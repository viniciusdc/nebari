

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="652c90">
  <script src="../../_static/javascripts/modernizr.js"></script>
  
  
  
    <title>Configuration &#8212; QHub Code as Infrastructure.</title>
    <link rel="stylesheet" href="../../_static/material.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />

  
   

<style>
  .md-header, .md-tabs {background-color: #653c90}
</style>
  </head>
  <body dir=ltr
        data-md-color-primary=652c90 data-md-color-accent=light-yellow>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#docs/aws/configuration" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../index.html" title="QHub Code as Infrastructure."
           class="md-header-nav__button md-logo">
          
            &nbsp;
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">QHub</span>
          <span class="md-header-nav__topic"> Configuration </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../../search.html" method="GET" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://github.com/Quansight/qhub" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    QHub
  </div>
</a>
          </div>
        </div>
      
      
  
  <script src="../../_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = "../../"versions.json"",
        target_loc = "../../../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="../../index.html" class="md-tabs__link">QHub Code as Infrastructure.</a></li>
            
            <li class="md-tabs__item"><a href="../../index.html" class="md-tabs__link">QHub Home</a></li>
            
            <li class="md-tabs__item"><a href="https://pypi.org/project/qhub/" class="md-tabs__link">Pypi</a></li>
            
            <li class="md-tabs__item"><a href="../faqs.html" class="md-tabs__link">FAQ</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../index.html" title="QHub Code as Infrastructure." class="md-nav__button md-logo">
      
        <img src="../../_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../../index.html"
       title="QHub Code as Infrastructure.">QHub</a>
  </label>
    <div class="md-nav__source">
      <a href="https://github.com/Quansight/qhub" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    QHub
  </div>
</a>
    </div>
  
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
      <a href="../step-by-step-walkthrough.html" class="md-nav__link">Step-by-Step QHub Cloud Deployment</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../do/configuration.html" class="md-nav__link">Configuration</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../do/configuration.html#full-configuration-example" class="md-nav__link">Full Configuration Example</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../do/configuration.html#initializing-repository" class="md-nav__link">Initializing Repository</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../faqs.html" class="md-nav__link">Frequently Asked Questions (FAQ)</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#docs-aws-configuration--page-root" class="md-nav__link">Configuration</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#general" class="md-nav__link">General</a>
        </li>
        <li class="md-nav__item"><a href="#security" class="md-nav__link">Security</a>
        </li>
        <li class="md-nav__item"><a href="#provider-infrastructure" class="md-nav__link">Provider Infrastructure</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#digital-ocean" class="md-nav__link">Digital Ocean</a>
        </li>
        <li class="md-nav__item"><a href="#google-cloud-provider" class="md-nav__link">Google Cloud Provider</a>
        </li>
        <li class="md-nav__item"><a href="#amazon-web-services" class="md-nav__link">Amazon Web Services</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#default-images" class="md-nav__link">Default Images</a>
        </li>
        <li class="md-nav__item"><a href="#storage" class="md-nav__link">Storage</a>
        </li>
        <li class="md-nav__item"><a href="#profiles" class="md-nav__link">Profiles</a>
        </li>
        <li class="md-nav__item"><a href="#environments" class="md-nav__link">Environments</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#example-full-configuration" class="md-nav__link">Example Full Configuration</a>
        </li>
        <li class="md-nav__item"><a href="#initializing-repository" class="md-nav__link">Initializing Repository</a>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../../_sources/docs/aws/configuration.md.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  
<h1 id="docs-aws-configuration--page-root">Configuration<a class="headerlink" href="#docs-aws-configuration--page-root" title="Permalink to this headline">¶</a></h1>
<p>The configuration file is split into several sections.</p>

<h2 id="general">General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h2>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">project_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">do-jupyterhub</span>
<span class="nt">provider</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">do</span>
<span class="nt">ci_cd</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">github-actions</span>
<span class="nt">domain</span><span class="p">:</span> <span class="s">"do.qhub.dev"</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">project_name</span></code> is the name that resources within the cloud
deployment/kubernetes will be deployed with.</p>
<p><code class="docutils literal notranslate"><span class="pre">provider</span></code> determines which cloud provider to use for the
deployment. Possible values are <code class="docutils literal notranslate"><span class="pre">do</span></code>, <code class="docutils literal notranslate"><span class="pre">aws</span></code>, <code class="docutils literal notranslate"><span class="pre">gcp</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">ci_cd</span></code> is the continuous integration and continuous deployment
framework to use. Currently <code class="docutils literal notranslate"><span class="pre">github-actions</span></code> is supported.</p>
<p><code class="docutils literal notranslate"><span class="pre">domain</span></code> is the top level url to put jupyterlab and future services
under such a monitoring. For example <code class="docutils literal notranslate"><span class="pre">jupyter.do.qhub.dev</span></code> would be
the domain for jupyterhub to be exposed under.</p>


<h2 id="security">Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h2>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">security</span><span class="p">:</span>
  <span class="nt">authentication</span><span class="p">:</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">GitHub</span>
    <span class="nt">config</span><span class="p">:</span>
      <span class="nt">client_id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;CLIENT_ID&gt;</span>
      <span class="nt">client_secret</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;CLIENT_SECRET&gt;</span>
      <span class="nt">oauth_callback_url</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://jupyter.do.qhub.dev/hub/oauth_callback</span>
  <span class="nt">users</span><span class="p">:</span>
    <span class="nt">costrouc</span><span class="p">:</span>
      <span class="nt">uid</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1000</span>
      <span class="nt">primary_group</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">users</span>
      <span class="nt">secondary_groups</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">billing</span>
    <span class="nt">dharhas</span><span class="p">:</span>
      <span class="nt">uid</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1001</span>
      <span class="nt">primary_group</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">admin</span>
  <span class="nt">groups</span><span class="p">:</span>
    <span class="nt">users</span><span class="p">:</span>
      <span class="nt">gid</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
    <span class="nt">admin</span><span class="p">:</span>
      <span class="nt">gid</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">101</span>
    <span class="nt">billing</span><span class="p">:</span>
      <span class="nt">gid</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">102</span>
</pre></div>
</div>
<p>The security section is for configuring security relating to the qhub
deployment.</p>
<p><code class="docutils literal notranslate"><span class="pre">security.authentication</span></code> is for configuring the oauth provider used
for authentication. Currently the configuration shows github but Auth0
is also supported.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">security</span><span class="p">:</span>
  <span class="nt">authentication</span><span class="p">:</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Auth0</span>
    <span class="nt">config</span><span class="p">:</span>
      <span class="nt">client_id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">...</span>
      <span class="nt">client_secret</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">...</span>
      <span class="nt">oauth_callback_url</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">...</span>
      <span class="nt">scope</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">"openid"</span><span class="p p-Indicator">,</span> <span class="s">"email"</span><span class="p p-Indicator">,</span> <span class="s">"profile"</span><span class="p p-Indicator">]</span>
      <span class="nt">auth0_subdomain</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">users</span></code> and <code class="docutils literal notranslate"><span class="pre">groups</span></code> allows you to provision unix permissions to each
user. Any user is assigned a <code class="docutils literal notranslate"><span class="pre">uid</span></code>, <code class="docutils literal notranslate"><span class="pre">primary_group</span></code>, and optionally
any number of <code class="docutils literal notranslate"><span class="pre">secondary_groups</span></code>. The <code class="docutils literal notranslate"><span class="pre">primary_group</span></code> is the group
name assigned to files that are written for the user. <code class="docutils literal notranslate"><span class="pre">groups</span></code> is
simply a mapping of group name to group ids. It is recommended to not
change the ids assigned to groups and users after creation since it
may lead to login issues. While the demo shows ids around <code class="docutils literal notranslate"><span class="pre">100</span></code> and
<code class="docutils literal notranslate"><span class="pre">1000</span></code> it is recommended to start with high uid numbers
e.g. <code class="docutils literal notranslate"><span class="pre">10000000</span></code>. <code class="docutils literal notranslate"><span class="pre">ids</span></code> technically supports 2 billion <code class="docutils literal notranslate"><span class="pre">ids</span></code>.</p>


<h2 id="provider-infrastructure">Provider Infrastructure<a class="headerlink" href="#provider-infrastructure" title="Permalink to this headline">¶</a></h2>
<p>Finally comes the kubernetes infrastructure deployment. Each provider
has different configuration but they are similar. The following
configuration sets up a kubernetes deployment with autoscaling node
groups. Depending on the cloud provider there may be restrictions that
are detailed in each section.</p>
<p>For any of the providers adding an additional node group is as easy as
adding a node group such as <code class="docutils literal notranslate"><span class="pre">high-memory</span></code></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">high-memory</span><span class="p">:</span>
  <span class="nt">instance</span><span class="p">:</span> <span class="s">"s-2vcpu-4gb"</span>
  <span class="nt">min_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
  <span class="nt">max_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">50</span>
</pre></div>
</div>
<p>Note that for each provider the instance names, availability zones,
and kubernetes versions will be different.</p>

<h3 id="digital-ocean">Digital Ocean<a class="headerlink" href="#digital-ocean" title="Permalink to this headline">¶</a></h3>
<p>Digital Ocean has a restriction with autoscaling in that <code class="docutils literal notranslate"><span class="pre">min_nodes</span></code>
cannot be less than 1. Here is a recommended setup. Note that digital
ocean regularly updates the kubernetes versions so this field will
likely have to be changed. <a class="reference external" href="https://www.digitalocean.com/docs/droplets/">See available instance types for digital
ocean.</a>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">digital_ocean</span><span class="p">:</span>
  <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nyc3</span>
  <span class="nt">kubernetes_version</span><span class="p">:</span> <span class="s">"1.18.8-do.0"</span>
  <span class="nt">node_groups</span><span class="p">:</span>
    <span class="nt">general</span><span class="p">:</span>
      <span class="nt">instance</span><span class="p">:</span> <span class="s">"s-2vcpu-4gb"</span>
      <span class="nt">min_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="nt">max_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
    <span class="nt">user</span><span class="p">:</span>
      <span class="nt">instance</span><span class="p">:</span> <span class="s">"s-2vcpu-4gb"</span>
      <span class="nt">min_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="nt">max_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
    <span class="nt">worker</span><span class="p">:</span>
      <span class="nt">instance</span><span class="p">:</span> <span class="s">"s-2vcpu-4gb"</span>
      <span class="nt">min_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="nt">max_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
</pre></div>
</div>


<h3 id="google-cloud-provider">Google Cloud Provider<a class="headerlink" href="#google-cloud-provider" title="Permalink to this headline">¶</a></h3>
<p>Google Cloud has the best support for QHub. I allows auto-scaling to
zero within the node group. There are no major restrictions. <a class="reference external" href="https://cloud.google.com/compute/docs/machine-types">To see
available instance types refer to gcp docs.</a></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">google_cloud_platform</span><span class="p">:</span>
  <span class="nt">project</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test-test-test</span>
  <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">us-central1</span>
  <span class="nt">zone</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">us-central1-c</span>
  <span class="nt">availability_zones</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">"us-central1-c"</span><span class="p p-Indicator">]</span>
  <span class="nt">kubernetes_version</span><span class="p">:</span> <span class="s">"1.14.10-gke.31"</span>
  <span class="nt">node_groups</span><span class="p">:</span>
    <span class="nt">general</span><span class="p">:</span>
      <span class="nt">instance</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">n1-standard-2</span>
      <span class="nt">min_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="nt">max_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
    <span class="nt">user</span><span class="p">:</span>
      <span class="nt">instance</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">n1-standard-2</span>
      <span class="nt">min_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
      <span class="nt">max_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
    <span class="nt">worker</span><span class="p">:</span>
      <span class="nt">instance</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">n1-standard-2</span>
      <span class="nt">min_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
      <span class="nt">max_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
</pre></div>
</div>


<h3 id="amazon-web-services">Amazon Web Services<a class="headerlink" href="#amazon-web-services" title="Permalink to this headline">¶</a></h3>
<p>Amazon Web Services has similar support to Digital Ocean and does not
allow auto-scaling below 1 node. Additionally AWS requires that a
kubernetes cluster run in two availability zones. <a class="reference external" href="https://aws.amazon.com/ec2/instance-types/">Consult aws instance
types for possible options.</a></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">amazon_web_services</span><span class="p">:</span>
  <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">us-west-2</span>
  <span class="nt">availability_zones</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">"us-west-2a"</span><span class="p p-Indicator">,</span> <span class="s">"us-west-2b"</span><span class="p p-Indicator">]</span>
  <span class="nt">kubernetes_version</span><span class="p">:</span> <span class="s">"1.14"</span>
  <span class="nt">node_groups</span><span class="p">:</span>
    <span class="nt">general</span><span class="p">:</span>
      <span class="nt">instance</span><span class="p">:</span> <span class="s">"m5.large"</span>
      <span class="nt">min_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="nt">max_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
    <span class="nt">user</span><span class="p">:</span>
      <span class="nt">instance</span><span class="p">:</span> <span class="s">"m5.large"</span>
      <span class="nt">min_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="nt">max_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
    <span class="nt">worker</span><span class="p">:</span>
      <span class="nt">instance</span><span class="p">:</span> <span class="s">"m5.large"</span>
      <span class="nt">min_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="nt">max_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
</pre></div>
</div>



<h2 id="default-images">Default Images<a class="headerlink" href="#default-images" title="Permalink to this headline">¶</a></h2>
<p>Default images are to the default image run if not specified in a
profile (described in the next section). The <code class="docutils literal notranslate"><span class="pre">jupyterhub</span></code> key controls
the jupyterhub image run.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">default_images</span><span class="p">:</span>
  <span class="nt">jupyterhub</span><span class="p">:</span> <span class="s">"quansight/qhub-jupyterhub:b89526c59a5c269c776b535b887bd110771ad601"</span>
  <span class="nt">jupyterlab</span><span class="p">:</span> <span class="s">"quansight/qhub-jupyterlab:b89526c59a5c269c776b535b887bd110771ad601"</span>
  <span class="nt">dask_worker</span><span class="p">:</span> <span class="s">"quansight/qhub-dask-worker:b89526c59a5c269c776b535b887bd110771ad601"</span>
</pre></div>
</div>


<h2 id="storage">Storage<a class="headerlink" href="#storage" title="Permalink to this headline">¶</a></h2>
<p>Control the amount of storage allocated to shared filesystems. Note
that when you change the storage size it will delete the previous
storage!</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">storage</span><span class="p">:</span>
  <span class="nt">conda_store</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">20Gi</span>
  <span class="nt">shared_filesytem</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10Gi</span>
</pre></div>
</div>


<h2 id="profiles">Profiles<a class="headerlink" href="#profiles" title="Permalink to this headline">¶</a></h2>
<p>Profiles are used to control the jupyterlab user instances and
dask-workers provided by dask-gateway.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">profiles</span><span class="p">:</span>
  <span class="nt">jupyterlab</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">display_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Small Instance</span>
      <span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Stable environment with 1 cpu / 1 GB ram</span>
      <span class="nt">users</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">costrouc</span>
      <span class="nt">groups</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">admin</span>
      <span class="nt">default</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
      <span class="nt">kubespawner_override</span><span class="p">:</span>
        <span class="nt">cpu_limit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
        <span class="nt">cpu_guarentee</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
        <span class="nt">mem_limit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1G</span>
        <span class="nt">mem_guarentee</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1G</span>
        <span class="nt">image</span><span class="p">:</span> <span class="s">"quansight/qhub-jupyterlab:b89526c59a5c269c776b535b887bd110771ad601"</span>
    <span class="p p-Indicator">-</span> <span class="nt">display_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Medium Instance</span>
      <span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Stable environment with 1.5 cpu / 2 GB ram</span>
      <span class="nt">kubespawner_override</span><span class="p">:</span>
        <span class="nt">cpu_limit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.5</span>
        <span class="nt">cpu_guarentee</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.25</span>
        <span class="nt">mem_limit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2G</span>
        <span class="nt">mem_guarentee</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2G</span>
        <span class="nt">image</span><span class="p">:</span> <span class="s">"quansight/qhub-jupyterlab:b89526c59a5c269c776b535b887bd110771ad601"</span>

  <span class="nt">dask_worker</span><span class="p">:</span>
    <span class="s">"Small</span><span class="nv"> </span><span class="s">Worker"</span><span class="p p-Indicator">:</span>
      <span class="nt">worker_cores_limit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="nt">worker_cores</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="nt">worker_memory_limit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1G</span>
      <span class="nt">worker_memory</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1G</span>
      <span class="nt">image</span><span class="p">:</span> <span class="s">"quansight/qhub-dask-worker:b89526c59a5c269c776b535b887bd110771ad601"</span>
    <span class="s">"Medium</span><span class="nv"> </span><span class="s">Worker"</span><span class="p p-Indicator">:</span>
      <span class="nt">worker_cores_limit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.5</span>
      <span class="nt">worker_cores</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.25</span>
      <span class="nt">worker_memory_limit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2G</span>
      <span class="nt">worker_memory</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2G</span>
      <span class="nt">image</span><span class="p">:</span> <span class="s">"quansight/qhub-dask-worker:b89526c59a5c269c776b535b887bd110771ad601"</span>
</pre></div>
</div>
<p>For each <code class="docutils literal notranslate"><span class="pre">profiles.jupyterlab</span></code> is a named jupyterlab profile. It
closely follows the
<a class="reference external" href="https://jupyterhub-kubespawner.readthedocs.io/en/latest/spawner.html">KubeSpawner</a>
api. The only exception is that two keys are added <code class="docutils literal notranslate"><span class="pre">users</span></code> and
<code class="docutils literal notranslate"><span class="pre">groups</span></code> which allow restriction of profiles to a given set of groups and users. We recommend using groups to manage profile access.</p>
<p>Finally we allow for configuration of the dask workers. In general
similar to the jupyterlab instances you only need to configuration the
cores and memory.</p>


<h2 id="environments">Environments<a class="headerlink" href="#environments" title="Permalink to this headline">¶</a></h2>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">environments</span><span class="p">:</span>
  <span class="s">"environment-default.yaml"</span><span class="p p-Indicator">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default</span>
    <span class="nt">channels</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">conda-forge</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">defaults</span>
    <span class="nt">dependencies</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">python=3.7</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ipykernel</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ipywidgets</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">dask==2.14.0</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">distributed==2.14.0</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">dask-gateway=0.6.1</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">numpy</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">numba</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">pandas</span>

  <span class="s">"environment-example-2.yaml"</span><span class="p p-Indicator">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">example-2</span>
    <span class="nt">channels</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">conda-forge</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">defaults</span>
    <span class="nt">dependencies</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">python=3.7</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ipykernel</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ipywidgets</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">dask==2.14.0</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">distributed==2.14.0</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">dask-gateway=0.6.1</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">numpy</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">numba</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">pandas</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">jinja2</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">pyyaml</span>
</pre></div>
</div>
<p>QHub is experimenting with a new way of distributing environments
using <a class="reference external" href="https://github.com/quansight/conda-store">conda-store</a>. Please
expect this environment distribution method to change over time. Each
environment configuration is a <code class="docutils literal notranslate"><span class="pre">environment.&lt;filename&gt;</span></code> mapping to a
conda environment definition file. If you need to pin specific version
please include it in the definition. One current requirement is that
each environment include <code class="docutils literal notranslate"><span class="pre">ipykernel</span></code>, <code class="docutils literal notranslate"><span class="pre">ipywidgets</span></code>, <code class="docutils literal notranslate"><span class="pre">dask==2.14.0</span></code>,
<code class="docutils literal notranslate"><span class="pre">distributed==2.14.0</span></code>, <code class="docutils literal notranslate"><span class="pre">dask-gateway==0.6.1</span></code>. Upon changing the
environment definition expect 1-10 minutes upon deployment of the
configuration for the environment to apear.</p>



<h1 id="example-full-configuration">Example Full Configuration<a class="headerlink" href="#example-full-configuration" title="Permalink to this headline">¶</a></h1>
<p>Everything in the configuration is set besides</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">project_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">do-jupyterhub</span>
<span class="nt">provider</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">do</span>
<span class="nt">ci_cd</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">github-actions</span>
<span class="nt">domain</span><span class="p">:</span> <span class="s">"do.qhub.dev"</span>

<span class="nt">security</span><span class="p">:</span>
  <span class="nt">authentication</span><span class="p">:</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">GitHub</span>
    <span class="nt">config</span><span class="p">:</span>
      <span class="nt">client_id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">CLIENT_ID</span>
      <span class="nt">client_secret</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">CLIENT_SECRET</span>
      <span class="nt">oauth_callback_url</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://jupyter.do.qhub.dev/hub/oauth_callback</span>
  <span class="nt">users</span><span class="p">:</span>
    <span class="nt">costrouc</span><span class="p">:</span>
      <span class="nt">uid</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1000</span>
      <span class="nt">primary_group</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">users</span>
      <span class="nt">secondary_groups</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">billing</span>
    <span class="nt">dharhas</span><span class="p">:</span>
      <span class="nt">uid</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1001</span>
      <span class="nt">primary_group</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">admin</span>
    <span class="nt">tonyfast</span><span class="p">:</span>
      <span class="nt">uid</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1002</span>
      <span class="nt">primary_group</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">admin</span>
    <span class="nt">prasunanand</span><span class="p">:</span>
      <span class="nt">uid</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1003</span>
      <span class="nt">primary_group</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">admin</span>
    <span class="nt">aktech</span><span class="p">:</span>
      <span class="nt">uid</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1004</span>
      <span class="nt">primary_group</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">users</span>
      <span class="nt">secondary_groups</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">admin</span>
  <span class="nt">groups</span><span class="p">:</span>
    <span class="nt">users</span><span class="p">:</span>
      <span class="nt">gid</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
    <span class="nt">admin</span><span class="p">:</span>
      <span class="nt">gid</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">101</span>
    <span class="nt">billing</span><span class="p">:</span>
      <span class="nt">gid</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">102</span>

<span class="nt">digital_ocean</span><span class="p">:</span>
  <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nyc3</span>
  <span class="nt">kubernetes_version</span><span class="p">:</span> <span class="s">"1.18.8-do.0"</span>
  <span class="nt">node_groups</span><span class="p">:</span>
    <span class="nt">general</span><span class="p">:</span>
      <span class="nt">instance</span><span class="p">:</span> <span class="s">"s-2vcpu-4gb"</span>
      <span class="nt">min_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="nt">max_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
    <span class="nt">user</span><span class="p">:</span>
      <span class="nt">instance</span><span class="p">:</span> <span class="s">"s-2vcpu-4gb"</span>
      <span class="nt">min_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="nt">max_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
    <span class="nt">worker</span><span class="p">:</span>
      <span class="nt">instance</span><span class="p">:</span> <span class="s">"s-2vcpu-4gb"</span>
      <span class="nt">min_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
      <span class="nt">max_nodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>

<span class="nt">default_images</span><span class="p">:</span>
  <span class="nt">jupyterhub</span><span class="p">:</span> <span class="s">"quansight/qhub-jupyterhub:b89526c59a5c269c776b535b887bd110771ad601"</span>
  <span class="nt">jupyterlab</span><span class="p">:</span> <span class="s">"quansight/qhub-jupyterlab:b89526c59a5c269c776b535b887bd110771ad601"</span>
  <span class="nt">dask_worker</span><span class="p">:</span> <span class="s">"quansight/qhub-dask-worker:b89526c59a5c269c776b535b887bd110771ad601"</span>

<span class="nt">profiles</span><span class="p">:</span>
  <span class="nt">jupyterlab</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">display_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Small Instance</span>
      <span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Stable environment with 1 cpu / 1 GB ram</span>
      <span class="nt">groups</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">admin</span>
      <span class="nt">kubespawner_override</span><span class="p">:</span>
        <span class="nt">cpu_limit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
        <span class="nt">cpu_guarentee</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
        <span class="nt">mem_limit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1G</span>
        <span class="nt">mem_guarentee</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1G</span>
        <span class="nt">image</span><span class="p">:</span> <span class="s">"quansight/qhub-jupyterlab:b89526c59a5c269c776b535b887bd110771ad601"</span>
    <span class="p p-Indicator">-</span> <span class="nt">display_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Medium Instance</span>
      <span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Stable environment with 1.5 cpu / 2 GB ram</span>
      <span class="nt">default</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
      <span class="nt">kubespawner_override</span><span class="p">:</span>
        <span class="nt">cpu_limit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.5</span>
        <span class="nt">cpu_guarentee</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.25</span>
        <span class="nt">mem_limit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2G</span>
        <span class="nt">mem_guarentee</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2G</span>
        <span class="nt">image</span><span class="p">:</span> <span class="s">"quansight/qhub-jupyterlab:b89526c59a5c269c776b535b887bd110771ad601"</span>

  <span class="nt">dask_worker</span><span class="p">:</span>
    <span class="s">"Small</span><span class="nv"> </span><span class="s">Worker"</span><span class="p p-Indicator">:</span>
      <span class="nt">worker_cores_limit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="nt">worker_cores</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="nt">worker_memory_limit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1G</span>
      <span class="nt">worker_memory</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1G</span>
      <span class="nt">image</span><span class="p">:</span> <span class="s">"quansight/qhub-dask-worker:b89526c59a5c269c776b535b887bd110771ad601"</span>
    <span class="s">"Medium</span><span class="nv"> </span><span class="s">Worker"</span><span class="p p-Indicator">:</span>
      <span class="nt">worker_cores_limit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.5</span>
      <span class="nt">worker_cores</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.25</span>
      <span class="nt">worker_memory_limit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2G</span>
      <span class="nt">worker_memory</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2G</span>
      <span class="nt">image</span><span class="p">:</span> <span class="s">"quansight/qhub-dask-worker:b89526c59a5c269c776b535b887bd110771ad601"</span>

<span class="nt">environments</span><span class="p">:</span>
  <span class="s">"environment-default.yaml"</span><span class="p p-Indicator">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default</span>
    <span class="nt">channels</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">conda-forge</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">defaults</span>
    <span class="nt">dependencies</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">python=3.7</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ipykernel</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ipywidgets</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">dask==2.14.0</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">distributed==2.14.0</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">dask-gateway=0.6.1</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">numpy</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">numba</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">pandas</span>

  <span class="s">"environment-example-2.yaml"</span><span class="p p-Indicator">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">example-2</span>
    <span class="nt">channels</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">conda-forge</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">defaults</span>
    <span class="nt">dependencies</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">python=3.7</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ipykernel</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ipywidgets</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">dask==2.14.0</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">distributed==2.14.0</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">dask-gateway=0.6.1</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">numpy</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">numba</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">pandas</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">jinja2</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">pyyaml</span>
</pre></div>
</div>


<h1 id="initializing-repository">Initializing Repository<a class="headerlink" href="#initializing-repository" title="Permalink to this headline">¶</a></h1>
<ol class="simple">
<li><p>Create a repository</p></li>
<li><p>Put configuration file in directory in name <code class="docutils literal notranslate"><span class="pre">qhub-ops-config.yaml</span></code></p></li>
<li><p>Initialize the qhub repository</p></li>
</ol>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip install qhub-ops
qhub-ops render -c qhub-ops-config.yaml -o ./ -f
</pre></div>
</div>
<p>This will initialize the repository and next proceed to
installation. Do not commit to repo to github until you have
initialized the <code class="docutils literal notranslate"><span class="pre">terraform-state</span></code> directory seen in installation.</p>



          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright .
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 2.4.4.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="../../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>