{
  "$defs": {
    "CICD": {
      "additionalProperties": false,
      "properties": {
        "type": {
          "allOf": [
            {
              "$ref": "#/$defs/CiEnum"
            }
          ],
          "default": "none"
        },
        "branch": {
          "default": "main",
          "title": "Branch",
          "type": "string"
        },
        "commit_render": {
          "default": true,
          "title": "Commit Render",
          "type": "boolean"
        },
        "before_script": {
          "default": [],
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "object"
              }
            ]
          },
          "title": "Before Script",
          "type": "array"
        },
        "after_script": {
          "default": [],
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "object"
              }
            ]
          },
          "title": "After Script",
          "type": "array"
        }
      },
      "title": "CICD",
      "type": "object"
    },
    "CiEnum": {
      "enum": [
        "github-actions",
        "gitlab-ci",
        "none"
      ],
      "title": "CiEnum",
      "type": "string"
    },
    "ProviderEnum": {
      "enum": [
        "local",
        "existing",
        "do",
        "aws",
        "gcp",
        "azure"
      ],
      "title": "ProviderEnum",
      "type": "string"
    }
  },
  "additionalProperties": false,
  "properties": {
    "ci_cd": {
      "allOf": [
        {
          "$ref": "#/$defs/CICD"
        }
      ],
      "default": {
        "after_script": [],
        "before_script": [],
        "branch": "main",
        "commit_render": true,
        "type": "none"
      }
    },
    "project_name": {
      "description": "Determines the base name for all major infrastructure related resources on\nNebari. Should be compatible with the Cloud provider's naming conventions.\nSee [Project Naming\nConventions](#docs/explanations/config-best-practices#naming-conventions)\nfor more details.",
      "pattern": "^[A-Za-z][A-Za-z0-9\\-_]{1,14}[A-Za-z0-9]$",
      "title": "Project Name",
      "type": "string"
    },
    "namespace": {
      "default": "dev",
      "description": "Used in combination with `project_name` to label infrastructure related\nresources on Nebari and also determines the target\n[namespace](https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/)\nused when deploying kubernetes resources. Defaults to `dev`.",
      "pattern": "^[A-Za-z][A-Za-z\\-_]*[A-Za-z]$",
      "title": "Namespace",
      "type": "string"
    },
    "provider": {
      "allOf": [
        {
          "$ref": "#/$defs/ProviderEnum"
        }
      ],
      "default": "local",
      "description": "Determines the cloud provider used to deploy infrastructure related\nresources on Nebari.\n\nFor more information on the different providers, see [Nebari Deployment\nPlatforms](#docs/get-started/deploy). Defaults to `local`."
    },
    "nebari_version": {
      "default": "2024.4.2.dev9+ge8c41430.d20240506",
      "description": "The current installed version of Nebari. This is used to determine if the\nschema's version, the user must run `nebari upgrade` to ensure\ncompatibility.",
      "title": "Nebari Version",
      "type": "string"
    },
    "prevent_deploy": {
      "default": false,
      "description": "Controls whether deployment is blocked post-upgrade. Setting this field to\n'True' helps ensure that users do not inadvertently redeploy without being\naware of necessary configurations and updates, thus safeguarding the\nstability and integrity of the deployment. Defaults to 'False'.",
      "title": "Prevent Deploy",
      "type": "boolean"
    }
  },
  "required": [
    "project_name"
  ],
  "title": "ConfigSchema",
  "type": "object"
}
